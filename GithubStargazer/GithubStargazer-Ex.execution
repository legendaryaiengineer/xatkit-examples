import platform "GithubPlatform"
import platform "SlackPlatform"

use provider GithubPlatform.GithubWebhookEventProvider

on event Star_Created do 
	action SlackPlatform.PostMessage(message : ":tada: New star on <" + context(star).get("repository->html_url") + " | " + context(star).get("repository->name") + "> by <" + context(star).get("sender->html_url") + " | " + context(star).get("sender->login") + "> :confetti_ball:\nCurrent stargazers count: " + context(star).get("repository->stargazers_count") + ":clap::champagne:", channel : config(slack.channel))
	
on event Star_Deleted do
	action SlackPlatform.PostMessage(message : ":sob: <" + context(star).get("sender->html_url") + " | " + context(star).get("sender->login") + "> unstarred <" + context(star).get("repository->html_url") + " | " + context(star).get("repository->name") + "> :face_with_head_bandage: let's forget about it and build awesome features! :kissing_heart:\nCurrent stargazer count: " + context(star).get("repository->stargazers_count") + ":stars:", channel : config(slack.channel))